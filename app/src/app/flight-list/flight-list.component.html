<div class="flight-list-container">
  <header class="page-header">
    <h1 class="page-title">Your Flights</h1>
    <button mat-fab extended color="primary" [routerLink]="['/flight', 'new']">
      <mat-icon>add</mat-icon>
      Add Flight
    </button>
  </header>

  <div class="main-content">
    <!-- Map Section -->
    <div class="map-section">
      <app-cesium *ngIf="flights()" [flights]="flights()" [showCountries]="mapOptions.countries"></app-cesium>
    </div>

    <!-- Stats Panel -->
    <!-- Stats Panel -->
    <aside class="stats-panel">
      <!-- Map Options Card -->
      <mat-card class="map-options-card glass-card">
        <mat-card-header>
          <mat-icon mat-card-avatar>tune</mat-icon>
          <mat-card-title>Map Options</mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <div class="option-row">
            <mat-slide-toggle [(ngModel)]="mapOptions.countries" color="primary">
              Show visited Countries
            </mat-slide-toggle>
          </div>
        </mat-card-content>
      </mat-card>

      <!-- Flight Summary Component -->
      <app-flight-summary-card [stats]="stats()" [compact]="true"></app-flight-summary-card>
    </aside>
  </div>

  <!-- Flight Cards Grid -->
  <section class="flights-grid">
    @for (flight of flights(); track flight._id) {
    <a [routerLink]="['/flight', flight._id]" class="flight-card-link">
      <mat-card class="flight-card glass-card" matRipple>
        <mat-card-content>
          <app-flight-tile [flight]="flight"></app-flight-tile>
        </mat-card-content>
      </mat-card>
    </a>
    }
  </section>
</div>